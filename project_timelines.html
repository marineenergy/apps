<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>MHK_Timeline_alt</title>

<script src="project_timelines_files/header-attrs-2.28/header-attrs.js"></script>
<script src="project_timelines_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="project_timelines_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="project_timelines_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="project_timelines_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="project_timelines_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="project_timelines_files/navigation-1.1/tabsets.js"></script>
<link href="project_timelines_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="project_timelines_files/highlightjs-9.12.0/highlight.js"></script>
<script src="project_timelines_files/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="project_timelines_files/plotly-binding-4.10.4/plotly.js"></script>
<script src="project_timelines_files/typedarray-0.1/typedarray.min.js"></script>
<link href="project_timelines_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="project_timelines_files/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="project_timelines_files/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="project_timelines_files/plotly-main-2.11.1/plotly-latest.min.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
      .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div id="header">



<h1 class="title toc-ignore">MHK_Timeline_alt</h1>

</div>


<p>Using <a
href="https://docs.google.com/spreadsheets/d/1HC5hXyi2RQSHevnV7rvyk748U5-X3iUw70ewHEfrHm0/edit#gid=793817660">MHK
Project Timeline Input - Google Sheets</a></p>
<pre class="r"><code>library(dplyr)</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="r"><code>library(htmltools)
library(htmlwidgets)
library(jsonlite)
library(plotly)</code></pre>
<pre><code>## Loading required package: ggplot2</code></pre>
<pre><code>## 
## Attaching package: &#39;plotly&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     last_plot</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     filter</code></pre>
<pre><code>## The following object is masked from &#39;package:graphics&#39;:
## 
##     layout</code></pre>
<pre class="r"><code>library(ggplot2)
library(ggiraph)
library(RColorBrewer)

#get the data
csv_key &lt;- &quot;1HC5hXyi2RQSHevnV7rvyk748U5-X3iUw70ewHEfrHm0&quot;
csv_url &lt;- glue::glue(&quot;https://docs.google.com/spreadsheets/d/{csv_key}/gviz/tq?tqx=out:csv&amp;sheet=0&quot;)
d &lt;- readr::read_csv(csv_url) %&gt;% 
  select(-starts_with(&quot;X&quot;))</code></pre>
<pre><code>## New names:
## • `` -&gt; `...13`
## • `` -&gt; `...14`
## • `` -&gt; `...15`
## • `` -&gt; `...16`
## • `` -&gt; `...17`
## • `` -&gt; `...18`
## • `` -&gt; `...19`
## • `` -&gt; `...20`
## • `` -&gt; `...21`
## • `` -&gt; `...22`
## • `` -&gt; `...23`
## • `` -&gt; `...24`
## • `` -&gt; `...25`</code></pre>
<pre><code>## Rows: 69 Columns: 25
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr  (9): project_name, env_study, date_beg, date_end, permit_type, license_...
## dbl  (3): project_number, longitude, latitude
## lgl (13): ...13, ...14, ...15, ...16, ...17, ...18, ...19, ...20, ...21, ......
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<p>Data Cleaning</p>
<pre class="r"><code>#sort data by permit type
d$permit_type &lt;- factor(d$permit_type, levels = c(&quot;Notice of Intent/Preliminary Permit Application&quot;, &#39;Draft Pilot License App&#39;, &#39;Final Pilot License App&#39;, &quot;Draft License App&quot;, &quot;Final License App&quot;, &#39;Environmental Assessment&#39;, &#39;Settlement Agreement&#39;, &quot;Permit Issued&quot;))

d$technology_type &lt;- factor(d$technology_type, levels = c(&#39;Riverine Energy&#39;, &#39;Tidal Energy&#39;, &#39;Wave Energy&#39;))


#d %&gt;% transform(d, technology_type = as.character(technology_type))

#data cleanup
d_times &lt;- d %&gt;% 
  filter(!is.na(date_beg)) %&gt;% 
  mutate(
    date_beg = as.Date(date_beg, format = &quot;%m/%d/%Y&quot;),
    date_end = as.Date(date_end, format = &quot;%m/%d/%Y&quot;)) %&gt;% 
  arrange(project_number, project_name)

#data cleanup
d_permits &lt;- d %&gt;% 
  filter(!is.na(permit_type)) %&gt;% 
  select(project_name, project_number, permit_type, license_date, link, technology_type) %&gt;% 
  mutate(license_date = as.Date(license_date, format = &quot;%m/%d/%Y&quot;)) %&gt;% 
  arrange(project_number, project_name, license_date) %&gt;% 
  arrange(permit_type, project_number)

#rename the link column to url
d_permits_2 &lt;- d_permits %&gt;% 
  rename(urls = link)

d_permits_2 &lt;- d_permits %&gt;% 
  arrange(technology_type, permit_type, project_name, .by_group = F)

d_times &lt;- d_times %&gt;% 
  arrange(technology_type, project_name, .by_group = F)


#d_permits_2 &lt;- d_permits_2 %&gt;% 
#  filter(permit_type == &#39;Final Pilot License App&#39;)

#sort the data by permit type and then alphabetically
#d_permits_2 &lt;- d_permits_2[with(d_permits_2, order(permit_type, technology_type, project_name)),]
#d_permits_2$technology_type &lt;- factor(d_permits_2$technology_type, levels=unique(d_permits_2$technology_type))

#d_times &lt;- d_times[with(d_times, order(permit_type, technology_type, project_name)),]
#d_times$technology_type &lt;- factor(d_times$technology_type, levels=unique(d_times$technology_type))


#d_test &lt;-  d_times %&gt;%  filter(technology_type == &#39;Wave Energy&#39;)

#d_test %&gt;% select(project_name)

#d_times %&gt;%  filter(technology_type == &#39;Wave Energy&#39;) %&gt;% select(project_name)

#View(d_times)
#View(d_permits_2)</code></pre>
<p>Static Figure</p>
<pre class="r"><code>###ggplot figure that has points and bars indicating permitting
#the fig.width and fig.height above determine the figure size overall

#the input to ggplot is what determines the tooltip label
g &lt;- ggplot(d_permits_2, 
            aes(text = paste(&#39;License Date: &#39;, license_date, &#39;\nProject Name: &#39;, project_name, &#39;\nPermit Type: &#39;, permit_type))) +
  
  #the segment is a gray bar that covers the time period of the permits
  geom_segment(data = d_times, 
               aes(x = date_beg, y = project_name, xend = date_end, yend = project_name), size = 4, color =         &quot;gray80&quot;) +
  
  #the points have colors and shapes indicating different permit types
  geom_point(data = d_permits_2, 
             aes(x = license_date, y = project_name, color = permit_type), size = 3, shape = 17) +
  
  #choose colors for permit types
  scale_color_manual(name = &quot;Permit Type&quot;, values = c(&quot;red2&quot;, &quot;orange&quot;, &quot;yellow2&quot;, &quot;forestgreen&quot;, &#39;aquamarine&#39;, &#39;cornflowerblue&#39;, &#39;hotpink&#39;, &#39;darkorchid4&#39;)) +
  
  #label the plot
  labs(title = &quot;MHK Project Timeline&quot;, x = &quot;Year of Project&quot;, y = &quot;&quot;) +
  
  facet_grid(rows = vars(technology_type), scales=&#39;free_y&#39;, space = &#39;free&#39;) +
  
  #choose a theme
  theme(panel.grid.minor = element_blank(), 
        panel.grid.major = element_blank(),
        panel.background = element_blank(), 
        axis.line = element_line(colour = &quot;black&quot;),
        #legend.margin=margin(100,100,100,100),
        #legend.box.margin=margin(20,20,20,20),
        #legend.position = c(0.9, 0.84),
        #legend.background = element_rect(fill = &quot;transparent&quot;, colour = NA),
        #axis.text.y = axis.groups(unique(d_times$technology_type)),
        axis.text.x = element_text(color=&quot;black&quot;, size=12, angle=45, vjust=1, hjust = 1),
        axis.text.y = element_text(color=&quot;black&quot;, size=12, vjust = -1),
        axis.title.y=element_text(face=&quot;bold&quot;, size=13),
        axis.title.x=element_text(face=&quot;bold&quot;, size=13),
        #plot.margin = margin(.15, .2, 0, 0, &quot;cm&quot;),
        plot.background = element_rect(fill = &quot;transparent&quot;, colour = NA))</code></pre>
<pre><code>## Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
## ℹ Please use `linewidth` instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<pre class="r"><code># static
g</code></pre>
<p><img src="project_timelines_files/figure-html/unnamed-chunk-3-1.png" width="960" /></p>
<p>Static figure with sequential color palette</p>
<pre class="r"><code>###ggplot figure that has points and bars indicating permitting
#the fig.width and fig.height above determine the figure size overall

#pick the color scale
scale &lt;- brewer.pal(n=10, name = &#39;PiYG&#39;)
scale &lt;- scale[c(1:4, 7:10)]

#the input to ggplot is what determines the tooltip label
g &lt;- ggplot(d_permits_2, 
            aes(text = paste(&#39;License Date: &#39;, license_date, &#39;\nProject Name: &#39;, project_name, &#39;\nPermit Type: &#39;, permit_type))) +
  
  #the segment is a gray bar that covers the time period of the permits
  geom_segment(data = d_times, 
               aes(x = date_beg, y = project_name, xend = date_end, yend = project_name), size = 4, color =         &quot;gray80&quot;) +
  
  #the points have colors and shapes indicating different permit types
  geom_point(data = d_permits_2, 
             aes(x = license_date, y = project_name, color = permit_type), size = 3, shape = 17) +
  
  scale_color_manual(values = scale) + 
  
  #label the plot
  labs(title = &quot;MHK Project Timeline&quot;, x = &quot;Year of Project&quot;, y = &quot;&quot;) +
  
  facet_grid(rows = vars(technology_type), scales=&#39;free_y&#39;, space = &#39;free&#39;) +
  
  #choose a theme
  theme(panel.grid.minor = element_blank(), 
        panel.grid.major = element_blank(),
        panel.background = element_blank(), 
        axis.line = element_line(colour = &quot;black&quot;),
        #legend.margin=margin(100,100,100,100),
        #legend.box.margin=margin(20,20,20,20),
        #legend.position = c(0.9, 0.84),
        #legend.background = element_rect(fill = &quot;transparent&quot;, colour = NA),
        #axis.text.y = axis.groups(unique(d_times$technology_type)),
        axis.text.x = element_text(color=&quot;black&quot;, size=12, angle=45, vjust=1, hjust = 1),
        axis.text.y = element_text(color=&quot;black&quot;, size=12, vjust = -1),
        axis.title.y=element_text(face=&quot;bold&quot;, size=13),
        axis.title.x=element_text(face=&quot;bold&quot;, size=13),
        #plot.margin = margin(.15, .2, 0, 0, &quot;cm&quot;),
        plot.background = element_rect(fill = &quot;transparent&quot;, colour = NA))

# static
g</code></pre>
<p><img src="project_timelines_files/figure-html/unnamed-chunk-4-1.png" width="960" /></p>
<p>Interactive figure with tooltip</p>
<pre class="r"><code># interactive plot with tooltip
#specify the tooltip in the ggplotly function to get custom text
p = ggplotly(g, tooltip = &#39;text&#39;, height = 700, width = 1000)
#p

##this part is from stackoverflow and works to adjust the y axis ticks and labels, as well as partly adjust the gray bars on the right
len &lt;- length(unique(d_times$technology_type))

total &lt;- 1
for (i in 1:len) {
  total &lt;- total + length(p[[&#39;x&#39;]][[&#39;layout&#39;]][[paste(&#39;yaxis&#39;, i, sep=&#39;&#39;)]][[&#39;ticktext&#39;]])
}

spacer &lt;- 0.01 #space between the horizontal plots
total_length = total + len * spacer
end &lt;- 1
start &lt;- 1

# fix y-axis tick marks: yaxis, yaxis2, yaxis3
#for (i in c(&#39;&#39;, seq(1, len))) { # i = 1
for (i in seq(1, len)) { # i = 1
  yaxis &lt;- ifelse(
    i == 1,
    &quot;yaxis&quot;,
    paste0(&#39;yaxis&#39;, i))
  
  tick_l &lt;- length(p[[&#39;x&#39;]][[&#39;layout&#39;]][[yaxis]][[&#39;ticktext&#39;]]) + 1

  #fix the y-axis
  p[[&#39;x&#39;]][[&#39;layout&#39;]][[yaxis]][[&#39;tickvals&#39;]] &lt;- seq(1, tick_l)
  p[[&#39;x&#39;]][[&#39;layout&#39;]][[yaxis]][[&#39;ticktext&#39;]][[tick_l]] &lt;- &#39;&#39;

  end &lt;- start - spacer
  start &lt;- start - (tick_l - 1) / total_length
  v &lt;- c(start, end)
  #fix the size
  p[[&#39;x&#39;]][[&#39;layout&#39;]][[yaxis]]$domain &lt;- v
}

#fix the first entry which has a different name than the rest
# p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;annotations&#39;]][[3]][[&#39;y&#39;]] &lt;- (p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;yaxis&#39;]]$domain[2] + p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;yaxis&#39;]]$domain[1]) /2
# p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;shapes&#39;]][[2]][[&#39;y0&#39;]] &lt;- p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;yaxis&#39;]]$domain[1]
# p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;shapes&#39;]][[2]][[&#39;y1&#39;]] &lt;- p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;yaxis&#39;]]$domain[2]

#fix the annotations
#for (i in 1:len + 1) {
  #fix the y position
#  p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;annotations&#39;]][[i]][[&#39;y&#39;]] &lt;- (p[[&#39;x&#39;]][[&#39;layout&#39;]][[paste(&#39;yaxis&#39;, i - 2, sep=&#39;&#39;)]]$domain[1] + #p[[&#39;x&#39;]][[&#39;layout&#39;]][[paste(&#39;yaxis&#39;, i - 2, sep=&#39;&#39;)]]$domain[2]) /2
  #trim the text
#  p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;annotations&#39;]][[i]][[&#39;text&#39;]] &lt;- substr(p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;annotations&#39;]][[i]][[&#39;text&#39;]], 1, #length(p[[&#39;x&#39;]][[&#39;layout&#39;]][[paste(&#39;yaxis&#39;, i - 2, sep=&#39;&#39;)]][[&#39;ticktext&#39;]]) * 3 - 3)
#}

#fix the rectangle shapes in the background
for (i in seq(0,(len - 2) * 2, 2)) {
  p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;shapes&#39;]][[i+4]][[&#39;y0&#39;]] &lt;- p[[&#39;x&#39;]][[&#39;layout&#39;]][[paste(&#39;yaxis&#39;, i /2 + 2, sep=&#39;&#39;)]]$domain[1]
  p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;shapes&#39;]][[i+4]][[&#39;y1&#39;]] &lt;- p[[&#39;x&#39;]][[&#39;layout&#39;]][[paste(&#39;yaxis&#39;, i /2 + 2, sep=&#39;&#39;)]]$domain[2]
}

##this part I added and manually moves all the rest of the labels, the legend, bars, xaxis label, legend title
#change the legend location
p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;legend&#39;]]$y &lt;- 0.8
p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;legend&#39;]]$x &lt;- 1.1

#change the legend title location
# p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;annotations&#39;]][[5]]$x &lt;- 1.1
# p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;annotations&#39;]][[5]]$y &lt;- 0.82

#change the legend title
# p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;annotations&#39;]][[5]]$text &lt;- &#39;Permit Type&#39;

#change the color of a shape to determine which one it is
p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;shapes&#39;]][[4]]$fillcolor &lt;- &#39;rgba(217, 217, 217, 1)&#39;
p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;shapes&#39;]][[6]]$fillcolor &lt;- &#39;rgba(217, 217, 217, 1)&#39;

#3 is top (riverine), 4 is middle (tidal), 5 is legend, 1 is x axis label, 2 is vertical label name, 6 is bottom (wave)
#those designations are for the boxes, the actual labels are screwed up and not attached to the right thing necessarily?
p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;annotations&#39;]][[3]]$text &lt;- &#39;Riverine&#39;
p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;annotations&#39;]][[4]]$text &lt;- &#39;Wave&#39;
p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;annotations&#39;]][[2]]$text &lt;- &#39;Tidal&#39;

#moving vertical y labels to center them
p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;annotations&#39;]][[3]]$y &lt;- .94
p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;annotations&#39;]][[4]]$y &lt;- .28
p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;annotations&#39;]][[2]]$y &lt;- .72

#move the y axis label down
p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;annotations&#39;]][[1]]$y &lt;- -.1

#change the size of the bottom gray bar
p[[&#39;x&#39;]][[&#39;layout&#39;]][[&#39;shapes&#39;]][[6]]$y0 &lt;- 0.01

###Note: cannot add annotations here - probably have to add them at the ggplot level and then can edit them here as needed
p</code></pre>
<div id="htmlwidget-a7536b8b70eaa82c9b77" style="width:1000px;height:700px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-a7536b8b70eaa82c9b77">{"x":{"data":[{"x":[14193,20013,null,14335,15884],"y":[1,1,null,2,2],"text":["License Date:  NA <br />Project Name:  Igiugig <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Igiugig <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Mississippi River <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Mississippi River <br />Permit Type:  NA"],"type":"scatter","mode":"lines","line":{"width":15.118110236220474,"color":"rgba(204,204,204,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[13581,16881,null,17070,20013,null,13717,20013,null,18698,20013,null,13939,16983,null,16297,20013,null,11939,20013,null,18745,20013,null,13298,20013],"y":[1,1,null,2,2,null,3,3,null,4,4,null,5,5,null,6,6,null,7,7,null,8,8,null,9,9],"text":["License Date:  NA <br />Project Name:  Admiralty Inlet <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Admiralty Inlet <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Bourne <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Bourne <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Cobscook Bay <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Cobscook Bay <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Kootznahoo Inlet <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Kootznahoo Inlet <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Muskeget <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Muskeget <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Portsmouth Memorial Bridge <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Portsmouth Memorial Bridge <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  RITE <br />Permit Type:  NA","License Date:  NA <br />Project Name:  RITE <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Turnagain Arm <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Turnagain Arm <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Western Passage <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Western Passage <br />Permit Type:  NA"],"type":"scatter","mode":"lines","line":{"width":15.118110236220474,"color":"rgba(204,204,204,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[16405,17136,null,16436,16801,null,15675,15736,null,14975,20013,null,13343,15565,null,15522,20013,null,16175,20013,null,14683,15675,null,12053,20013,null,13951,15093,null,14579,17348],"y":[1,1,null,2,2,null,3,3,null,4,4,null,5,5,null,6,6,null,7,7,null,8,8,null,10,10,null,9,9,null,11,11],"text":["License Date:  NA <br />Project Name:  CalWave <br />Permit Type:  NA","License Date:  NA <br />Project Name:  CalWave <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Camp Rilea <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Camp Rilea <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Duck <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Duck <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Jeanette's Pier <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Jeanette's Pier <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  OPT Reedsport <br />Permit Type:  NA","License Date:  NA <br />Project Name:  OPT Reedsport <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  PacWave-N <br />Permit Type:  NA","License Date:  NA <br />Project Name:  PacWave-N <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  PacWave-S <br />Permit Type:  NA","License Date:  NA <br />Project Name:  PacWave-S <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  SeaRay <br />Permit Type:  NA","License Date:  NA <br />Project Name:  SeaRay <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  WETS <br />Permit Type:  NA","License Date:  NA <br />Project Name:  WETS <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  WaveConnect <br />Permit Type:  NA","License Date:  NA <br />Project Name:  WaveConnect <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Yakutat <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Yakutat <br />Permit Type:  NA"],"type":"scatter","mode":"lines","line":{"width":15.118110236220474,"color":"rgba(204,204,204,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[14403,14335],"y":[1,2],"text":["License Date:  2009-06-08 <br />Project Name:  Igiugig <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2009-04-01 <br />Project Name:  Mississippi River <br />Permit Type:  Notice of Intent/Preliminary Permit Application"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(142,1,82,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(142,1,82,1)"}},"hoveron":"points","name":"Notice of Intent/Preliminary Permit Application","legendgroup":"Notice of Intent/Preliminary Permit Application","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[13581,16911,13717,18698,13939,11939,18745,16773],"y":[1,2,3,4,5,7,8,9],"text":["License Date:  2007-03-09 <br />Project Name:  Admiralty Inlet <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2016-04-20 <br />Project Name:  Bourne <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2007-07-23 <br />Project Name:  Cobscook Bay <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2021-03-12 <br />Project Name:  Kootznahoo Inlet <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2008-03-01 <br />Project Name:  Muskeget <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2002-09-09 <br />Project Name:  RITE <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2021-04-28 <br />Project Name:  Turnagain Arm <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2015-12-04 <br />Project Name:  Western Passage <br />Permit Type:  Notice of Intent/Preliminary Permit Application"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(142,1,82,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(142,1,82,1)"}},"hoveron":"points","name":"Notice of Intent/Preliminary Permit Application","legendgroup":"Notice of Intent/Preliminary Permit Application","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[13343,15522,16175,13951,15485],"y":[5,6,7,9,11],"text":["License Date:  2006-07-14 <br />Project Name:  OPT Reedsport <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2012-07-01 <br />Project Name:  PacWave-N <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2014-04-15 <br />Project Name:  PacWave-S <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2008-03-13 <br />Project Name:  WaveConnect <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2012-05-25 <br />Project Name:  Yakutat <br />Permit Type:  Notice of Intent/Preliminary Permit Application"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(142,1,82,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(142,1,82,1)"}},"hoveron":"points","name":"Notice of Intent/Preliminary Permit Application","legendgroup":"Notice of Intent/Preliminary Permit Application","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[16526],"y":[1],"text":"License Date:  2015-04-01 <br />Project Name:  Igiugig <br />Permit Type:  Draft Pilot License App","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(197,27,125,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(197,27,125,1)"}},"hoveron":"points","name":"Draft Pilot License App","legendgroup":"Draft Pilot License App","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[14606,17840,14448,15005,14208],"y":[1,2,3,5,7],"text":["License Date:  2009-12-28 <br />Project Name:  Admiralty Inlet <br />Permit Type:  Draft Pilot License App","License Date:  2018-11-05 <br />Project Name:  Bourne <br />Permit Type:  Draft Pilot License App","License Date:  2009-07-23 <br />Project Name:  Cobscook Bay <br />Permit Type:  Draft Pilot License App","License Date:  2011-01-31 <br />Project Name:  Muskeget <br />Permit Type:  Draft Pilot License App","License Date:  2008-11-25 <br />Project Name:  RITE <br />Permit Type:  Draft Pilot License App"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(197,27,125,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(197,27,125,1)"}},"hoveron":"points","name":"Draft Pilot License App","legendgroup":"Draft Pilot License App","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[14666],"y":[9],"text":"License Date:  2010-02-26 <br />Project Name:  WaveConnect <br />Permit Type:  Draft Pilot License App","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(197,27,125,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(197,27,125,1)"}},"hoveron":"points","name":"Draft Pilot License App","legendgroup":"Draft Pilot License App","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[17850],"y":[1],"text":"License Date:  2018-11-15 <br />Project Name:  Igiugig <br />Permit Type:  Final Pilot License App","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(222,119,174,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(222,119,174,1)"}},"hoveron":"points","name":"Final Pilot License App","legendgroup":"Final Pilot License App","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[15399,15218,14972],"y":[1,3,7],"text":["License Date:  2012-02-29 <br />Project Name:  Admiralty Inlet <br />Permit Type:  Final Pilot License App","License Date:  2011-09-01 <br />Project Name:  Cobscook Bay <br />Permit Type:  Final Pilot License App","License Date:  2010-12-29 <br />Project Name:  RITE <br />Permit Type:  Final Pilot License App"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(222,119,174,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(222,119,174,1)"}},"hoveron":"points","name":"Final Pilot License App","legendgroup":"Final Pilot License App","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[16556],"y":[1],"text":"License Date:  2015-05-01 <br />Project Name:  Igiugig <br />Permit Type:  Draft License App","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(241,182,218,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(241,182,218,1)"}},"hoveron":"points","name":"Draft License App","legendgroup":"Draft License App","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[14641,17641,14669],"y":[5,7,9],"text":["License Date:  2010-02-01 <br />Project Name:  OPT Reedsport <br />Permit Type:  Draft License App","License Date:  2018-04-20 <br />Project Name:  PacWave-S <br />Permit Type:  Draft License App","License Date:  2010-03-01 <br />Project Name:  WaveConnect <br />Permit Type:  Draft License App"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(241,182,218,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(241,182,218,1)"}},"hoveron":"points","name":"Draft License App","legendgroup":"Draft License App","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[17850],"y":[1],"text":"License Date:  2018-11-15 <br />Project Name:  Igiugig <br />Permit Type:  Final License App","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(184,225,134,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(184,225,134,1)"}},"hoveron":"points","name":"Final License App","legendgroup":"Final License App","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[15400],"y":[1],"text":"License Date:  2012-03-01 <br />Project Name:  Admiralty Inlet <br />Permit Type:  Final License App","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(184,225,134,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(184,225,134,1)"}},"hoveron":"points","name":"Final License App","legendgroup":"Final License App","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[14650,18047],"y":[5,7],"text":["License Date:  2010-02-10 <br />Project Name:  OPT Reedsport <br />Permit Type:  Final License App","License Date:  2019-05-31 <br />Project Name:  PacWave-S <br />Permit Type:  Final License App"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(184,225,134,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(184,225,134,1)"}},"hoveron":"points","name":"Final License App","legendgroup":"Final License App","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[15553,14691,12152,16126],"y":[6,8,10,10],"text":["License Date:  2012-08-01 <br />Project Name:  PacWave-N <br />Permit Type:  Environmental Assessment","License Date:  2010-03-23 <br />Project Name:  SeaRay <br />Permit Type:  Environmental Assessment","License Date:  2003-04-10 <br />Project Name:  WETS <br />Permit Type:  Environmental Assessment","License Date:  2014-02-25 <br />Project Name:  WETS <br />Permit Type:  Environmental Assessment"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(127,188,65,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(127,188,65,1)"}},"hoveron":"points","name":"Environmental Assessment","legendgroup":"Environmental Assessment","showlegend":true,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[14820],"y":[5],"text":"License Date:  2010-07-30 <br />Project Name:  OPT Reedsport <br />Permit Type:  Settlement Agreement","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(77,146,33,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(77,146,33,1)"}},"hoveron":"points","name":"Settlement Agreement","legendgroup":"Settlement Agreement","showlegend":true,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[18039],"y":[1],"text":"License Date:  2019-05-23 <br />Project Name:  Igiugig <br />Permit Type:  Permit Issued","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(39,100,25,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(39,100,25,1)"}},"hoveron":"points","name":"Permit Issued","legendgroup":"Permit Issued","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[16149,15397],"y":[1,3],"text":["License Date:  2014-03-20 <br />Project Name:  Admiralty Inlet <br />Permit Type:  Permit Issued","License Date:  2012-02-27 <br />Project Name:  Cobscook Bay <br />Permit Type:  Permit Issued"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(39,100,25,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(39,100,25,1)"}},"hoveron":"points","name":"Permit Issued","legendgroup":"Permit Issued","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[15565,18687],"y":[5,7],"text":["License Date:  2012-08-13 <br />Project Name:  OPT Reedsport <br />Permit Type:  Permit Issued","License Date:  2021-03-01 <br />Project Name:  PacWave-S <br />Permit Type:  Permit Issued"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(39,100,25,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(39,100,25,1)"}},"hoveron":"points","name":"Permit Issued","legendgroup":"Permit Issued","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":55.660795825179392,"r":18.99543378995434,"b":50.082870544796748,"l":146.4508094645081},"paper_bgcolor":"transparent","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"MHK Project Timeline","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[11535.299999999999,20416.700000000001],"tickmode":"array","ticktext":["2005","2010","2015","2020","2025"],"tickvals":[12784,14610,16436,18262,20089],"categoryorder":"array","categoryarray":["2005","2010","2015","2020","2025"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402243},"tickangle":-45,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"annotations":[{"text":"<b> Year of Project <\/b>","x":0.5,"y":-0.10000000000000001,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":17.268576172685766},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-28.952585304922462},{"text":"Tidal","x":1,"y":0.71999999999999997,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"Riverine","x":1,"y":0.93999999999999995,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"Wave","x":1,"y":0.28000000000000003,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"}],"yaxis":{"domain":[0.90489776509747977,0.98999999999999999],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["Igiugig","Mississippi River",""],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["Igiugig","Mississippi River"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.6744944553163732,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.6744944553163732,"y1":1,"x0":0,"x1":23.37899543378996,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.34116112198303983,"y1":0.65883887801696028},{"type":"rect","fillcolor":"rgba(217, 217, 217, 1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.47693770803613883,"y1":0.89489776509747976,"x0":0,"x1":23.37899543378996,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":0.32550554468362691},{"type":"rect","fillcolor":"rgba(217, 217, 217, 1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.01,"y1":0.46693770803613882,"x0":0,"x1":23.37899543378996,"xanchor":1,"xsizemode":"pixel"}],"yaxis2":{"type":"linear","autorange":false,"range":[0.40000000000000002,9.5999999999999996],"tickmode":"array","ticktext":["Admiralty Inlet","Bourne","Cobscook Bay","Kootznahoo Inlet","Muskeget","Portsmouth Memorial Bridge","RITE","Turnagain Arm","Western Passage",""],"tickvals":[1,2,3,4,5,6,7,8,9,10],"categoryorder":"array","categoryarray":["Admiralty Inlet","Bourne","Cobscook Bay","Kootznahoo Inlet","Muskeget","Portsmouth Memorial Bridge","RITE","Turnagain Arm","Western Passage"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"domain":[0.47693770803613883,0.89489776509747976],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[0.40000000000000002,11.6],"tickmode":"array","ticktext":["CalWave","Camp Rilea","Duck","Jeanette's Pier","OPT Reedsport","PacWave-N","PacWave-S","SeaRay","WaveConnect","WETS","Yakutat",""],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12],"categoryorder":"array","categoryarray":["CalWave","Camp Rilea","Duck","Jeanette's Pier","OPT Reedsport","PacWave-N","PacWave-S","SeaRay","WaveConnect","WETS","Yakutat"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"domain":[-0.046124583927722285,0.46693770803613882],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"permit_type","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"y":0.80000000000000004,"x":1.1000000000000001},"hovermode":"closest","width":1000,"height":700,"barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"773e4c4afe35":{"text":{},"x":{},"y":{},"xend":{},"yend":{},"type":"scatter"},"773e23fc069c":{"text":{},"x":{},"y":{},"colour":{}}},"cur_data":"773e4c4afe35","visdat":{"773e4c4afe35":["function (y) ","x"],"773e23fc069c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Interactive figure with clicking</p>
<pre class="r"><code>d_projects &lt;- d_permits %&gt;%
  arrange(technology_type, permit_type, project_name) %&gt;% 
  nest_by(technology_type, permit_type) %&gt;% 
  nest_by(technology_type)

js &lt;- HTML(paste(
  &quot;
  d_projects = &quot;, toJSON(d_projects, pretty=T), &quot;;
  
  // technology_type facets
  yidx = {&#39;y&#39;: 0, &#39;y2&#39;: 1, &#39;y3&#39;: 2};
  
  var myPlot = document.getElementById(&#39;PlotlyGraph&#39;);
  
  myPlot.on(&#39;plotly_click&#39;, function(data){
  
    // technology_type
    var yaxis = data.points[0].fullData.yaxis;
    // permit_type
    var legendgroup = data.points[0].data.legendgroup;
    // project
    var pointIndex = data.points[0].pointIndex;
  
    console.log(`yaxis: ${yaxis}`);
    console.log(`legendgroup: ${legendgroup}`);
    console.log(`pointIndex: ${pointIndex}`);
  
    if(typeof legendgroup !== &#39;undefined&#39; | typeof pointIndex !== &#39;undefined&#39;){
    
      d_tech     = d_projects[yidx[yaxis]].data; 
      idx_permit = d_tech.findIndex(x =&gt; x.permit_type === legendgroup);
      d_permits  = d_tech[idx_permit].data;
      d_project = d_permits[pointIndex];
      link = d_permits[pointIndex].link;
      
      console.log(`project_name: ${d_project.project_name}`);
      console.log(`link: ${link}`);
      
      window.open(link,&#39;_blank&#39;);
    }
  });&quot;, sep=&#39;&#39;))

#tag the plot
p$elementId &lt;- &quot;PlotlyGraph&quot;

#once the plot is rendered, use the js code to make it clickable
tagList(
  p,
  onStaticRenderComplete(js))</code></pre>
<div id="PlotlyGraph" style="width:1000px;height:700px;" class="plotly html-widget"></div>
<script type="application/json" data-for="PlotlyGraph">{"x":{"data":[{"x":[14193,20013,null,14335,15884],"y":[1,1,null,2,2],"text":["License Date:  NA <br />Project Name:  Igiugig <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Igiugig <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Mississippi River <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Mississippi River <br />Permit Type:  NA"],"type":"scatter","mode":"lines","line":{"width":15.118110236220474,"color":"rgba(204,204,204,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[13581,16881,null,17070,20013,null,13717,20013,null,18698,20013,null,13939,16983,null,16297,20013,null,11939,20013,null,18745,20013,null,13298,20013],"y":[1,1,null,2,2,null,3,3,null,4,4,null,5,5,null,6,6,null,7,7,null,8,8,null,9,9],"text":["License Date:  NA <br />Project Name:  Admiralty Inlet <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Admiralty Inlet <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Bourne <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Bourne <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Cobscook Bay <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Cobscook Bay <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Kootznahoo Inlet <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Kootznahoo Inlet <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Muskeget <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Muskeget <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Portsmouth Memorial Bridge <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Portsmouth Memorial Bridge <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  RITE <br />Permit Type:  NA","License Date:  NA <br />Project Name:  RITE <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Turnagain Arm <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Turnagain Arm <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Western Passage <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Western Passage <br />Permit Type:  NA"],"type":"scatter","mode":"lines","line":{"width":15.118110236220474,"color":"rgba(204,204,204,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[16405,17136,null,16436,16801,null,15675,15736,null,14975,20013,null,13343,15565,null,15522,20013,null,16175,20013,null,14683,15675,null,12053,20013,null,13951,15093,null,14579,17348],"y":[1,1,null,2,2,null,3,3,null,4,4,null,5,5,null,6,6,null,7,7,null,8,8,null,10,10,null,9,9,null,11,11],"text":["License Date:  NA <br />Project Name:  CalWave <br />Permit Type:  NA","License Date:  NA <br />Project Name:  CalWave <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Camp Rilea <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Camp Rilea <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Duck <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Duck <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Jeanette's Pier <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Jeanette's Pier <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  OPT Reedsport <br />Permit Type:  NA","License Date:  NA <br />Project Name:  OPT Reedsport <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  PacWave-N <br />Permit Type:  NA","License Date:  NA <br />Project Name:  PacWave-N <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  PacWave-S <br />Permit Type:  NA","License Date:  NA <br />Project Name:  PacWave-S <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  SeaRay <br />Permit Type:  NA","License Date:  NA <br />Project Name:  SeaRay <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  WETS <br />Permit Type:  NA","License Date:  NA <br />Project Name:  WETS <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  WaveConnect <br />Permit Type:  NA","License Date:  NA <br />Project Name:  WaveConnect <br />Permit Type:  NA",null,"License Date:  NA <br />Project Name:  Yakutat <br />Permit Type:  NA","License Date:  NA <br />Project Name:  Yakutat <br />Permit Type:  NA"],"type":"scatter","mode":"lines","line":{"width":15.118110236220474,"color":"rgba(204,204,204,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[14403,14335],"y":[1,2],"text":["License Date:  2009-06-08 <br />Project Name:  Igiugig <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2009-04-01 <br />Project Name:  Mississippi River <br />Permit Type:  Notice of Intent/Preliminary Permit Application"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(142,1,82,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(142,1,82,1)"}},"hoveron":"points","name":"Notice of Intent/Preliminary Permit Application","legendgroup":"Notice of Intent/Preliminary Permit Application","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[13581,16911,13717,18698,13939,11939,18745,16773],"y":[1,2,3,4,5,7,8,9],"text":["License Date:  2007-03-09 <br />Project Name:  Admiralty Inlet <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2016-04-20 <br />Project Name:  Bourne <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2007-07-23 <br />Project Name:  Cobscook Bay <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2021-03-12 <br />Project Name:  Kootznahoo Inlet <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2008-03-01 <br />Project Name:  Muskeget <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2002-09-09 <br />Project Name:  RITE <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2021-04-28 <br />Project Name:  Turnagain Arm <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2015-12-04 <br />Project Name:  Western Passage <br />Permit Type:  Notice of Intent/Preliminary Permit Application"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(142,1,82,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(142,1,82,1)"}},"hoveron":"points","name":"Notice of Intent/Preliminary Permit Application","legendgroup":"Notice of Intent/Preliminary Permit Application","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[13343,15522,16175,13951,15485],"y":[5,6,7,9,11],"text":["License Date:  2006-07-14 <br />Project Name:  OPT Reedsport <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2012-07-01 <br />Project Name:  PacWave-N <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2014-04-15 <br />Project Name:  PacWave-S <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2008-03-13 <br />Project Name:  WaveConnect <br />Permit Type:  Notice of Intent/Preliminary Permit Application","License Date:  2012-05-25 <br />Project Name:  Yakutat <br />Permit Type:  Notice of Intent/Preliminary Permit Application"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(142,1,82,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(142,1,82,1)"}},"hoveron":"points","name":"Notice of Intent/Preliminary Permit Application","legendgroup":"Notice of Intent/Preliminary Permit Application","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[16526],"y":[1],"text":"License Date:  2015-04-01 <br />Project Name:  Igiugig <br />Permit Type:  Draft Pilot License App","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(197,27,125,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(197,27,125,1)"}},"hoveron":"points","name":"Draft Pilot License App","legendgroup":"Draft Pilot License App","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[14606,17840,14448,15005,14208],"y":[1,2,3,5,7],"text":["License Date:  2009-12-28 <br />Project Name:  Admiralty Inlet <br />Permit Type:  Draft Pilot License App","License Date:  2018-11-05 <br />Project Name:  Bourne <br />Permit Type:  Draft Pilot License App","License Date:  2009-07-23 <br />Project Name:  Cobscook Bay <br />Permit Type:  Draft Pilot License App","License Date:  2011-01-31 <br />Project Name:  Muskeget <br />Permit Type:  Draft Pilot License App","License Date:  2008-11-25 <br />Project Name:  RITE <br />Permit Type:  Draft Pilot License App"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(197,27,125,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(197,27,125,1)"}},"hoveron":"points","name":"Draft Pilot License App","legendgroup":"Draft Pilot License App","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[14666],"y":[9],"text":"License Date:  2010-02-26 <br />Project Name:  WaveConnect <br />Permit Type:  Draft Pilot License App","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(197,27,125,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(197,27,125,1)"}},"hoveron":"points","name":"Draft Pilot License App","legendgroup":"Draft Pilot License App","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[17850],"y":[1],"text":"License Date:  2018-11-15 <br />Project Name:  Igiugig <br />Permit Type:  Final Pilot License App","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(222,119,174,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(222,119,174,1)"}},"hoveron":"points","name":"Final Pilot License App","legendgroup":"Final Pilot License App","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[15399,15218,14972],"y":[1,3,7],"text":["License Date:  2012-02-29 <br />Project Name:  Admiralty Inlet <br />Permit Type:  Final Pilot License App","License Date:  2011-09-01 <br />Project Name:  Cobscook Bay <br />Permit Type:  Final Pilot License App","License Date:  2010-12-29 <br />Project Name:  RITE <br />Permit Type:  Final Pilot License App"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(222,119,174,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(222,119,174,1)"}},"hoveron":"points","name":"Final Pilot License App","legendgroup":"Final Pilot License App","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[16556],"y":[1],"text":"License Date:  2015-05-01 <br />Project Name:  Igiugig <br />Permit Type:  Draft License App","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(241,182,218,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(241,182,218,1)"}},"hoveron":"points","name":"Draft License App","legendgroup":"Draft License App","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[14641,17641,14669],"y":[5,7,9],"text":["License Date:  2010-02-01 <br />Project Name:  OPT Reedsport <br />Permit Type:  Draft License App","License Date:  2018-04-20 <br />Project Name:  PacWave-S <br />Permit Type:  Draft License App","License Date:  2010-03-01 <br />Project Name:  WaveConnect <br />Permit Type:  Draft License App"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(241,182,218,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(241,182,218,1)"}},"hoveron":"points","name":"Draft License App","legendgroup":"Draft License App","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[17850],"y":[1],"text":"License Date:  2018-11-15 <br />Project Name:  Igiugig <br />Permit Type:  Final License App","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(184,225,134,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(184,225,134,1)"}},"hoveron":"points","name":"Final License App","legendgroup":"Final License App","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[15400],"y":[1],"text":"License Date:  2012-03-01 <br />Project Name:  Admiralty Inlet <br />Permit Type:  Final License App","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(184,225,134,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(184,225,134,1)"}},"hoveron":"points","name":"Final License App","legendgroup":"Final License App","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[14650,18047],"y":[5,7],"text":["License Date:  2010-02-10 <br />Project Name:  OPT Reedsport <br />Permit Type:  Final License App","License Date:  2019-05-31 <br />Project Name:  PacWave-S <br />Permit Type:  Final License App"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(184,225,134,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(184,225,134,1)"}},"hoveron":"points","name":"Final License App","legendgroup":"Final License App","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[15553,14691,12152,16126],"y":[6,8,10,10],"text":["License Date:  2012-08-01 <br />Project Name:  PacWave-N <br />Permit Type:  Environmental Assessment","License Date:  2010-03-23 <br />Project Name:  SeaRay <br />Permit Type:  Environmental Assessment","License Date:  2003-04-10 <br />Project Name:  WETS <br />Permit Type:  Environmental Assessment","License Date:  2014-02-25 <br />Project Name:  WETS <br />Permit Type:  Environmental Assessment"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(127,188,65,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(127,188,65,1)"}},"hoveron":"points","name":"Environmental Assessment","legendgroup":"Environmental Assessment","showlegend":true,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[14820],"y":[5],"text":"License Date:  2010-07-30 <br />Project Name:  OPT Reedsport <br />Permit Type:  Settlement Agreement","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(77,146,33,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(77,146,33,1)"}},"hoveron":"points","name":"Settlement Agreement","legendgroup":"Settlement Agreement","showlegend":true,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[18039],"y":[1],"text":"License Date:  2019-05-23 <br />Project Name:  Igiugig <br />Permit Type:  Permit Issued","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(39,100,25,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(39,100,25,1)"}},"hoveron":"points","name":"Permit Issued","legendgroup":"Permit Issued","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[16149,15397],"y":[1,3],"text":["License Date:  2014-03-20 <br />Project Name:  Admiralty Inlet <br />Permit Type:  Permit Issued","License Date:  2012-02-27 <br />Project Name:  Cobscook Bay <br />Permit Type:  Permit Issued"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(39,100,25,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(39,100,25,1)"}},"hoveron":"points","name":"Permit Issued","legendgroup":"Permit Issued","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[15565,18687],"y":[5,7],"text":["License Date:  2012-08-13 <br />Project Name:  OPT Reedsport <br />Permit Type:  Permit Issued","License Date:  2021-03-01 <br />Project Name:  PacWave-S <br />Permit Type:  Permit Issued"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(39,100,25,1)","opacity":1,"size":11.338582677165356,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(39,100,25,1)"}},"hoveron":"points","name":"Permit Issued","legendgroup":"Permit Issued","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":55.660795825179392,"r":18.99543378995434,"b":50.082870544796748,"l":146.4508094645081},"paper_bgcolor":"transparent","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"MHK Project Timeline","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[11535.299999999999,20416.700000000001],"tickmode":"array","ticktext":["2005","2010","2015","2020","2025"],"tickvals":[12784,14610,16436,18262,20089],"categoryorder":"array","categoryarray":["2005","2010","2015","2020","2025"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402243},"tickangle":-45,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"annotations":[{"text":"<b> Year of Project <\/b>","x":0.5,"y":-0.10000000000000001,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":17.268576172685766},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-28.952585304922462},{"text":"Tidal","x":1,"y":0.71999999999999997,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"Riverine","x":1,"y":0.93999999999999995,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"Wave","x":1,"y":0.28000000000000003,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"}],"yaxis":{"domain":[0.90489776509747977,0.98999999999999999],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["Igiugig","Mississippi River",""],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["Igiugig","Mississippi River"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.6744944553163732,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.6744944553163732,"y1":1,"x0":0,"x1":23.37899543378996,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.34116112198303983,"y1":0.65883887801696028},{"type":"rect","fillcolor":"rgba(217, 217, 217, 1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.47693770803613883,"y1":0.89489776509747976,"x0":0,"x1":23.37899543378996,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":0.32550554468362691},{"type":"rect","fillcolor":"rgba(217, 217, 217, 1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.01,"y1":0.46693770803613882,"x0":0,"x1":23.37899543378996,"xanchor":1,"xsizemode":"pixel"}],"yaxis2":{"type":"linear","autorange":false,"range":[0.40000000000000002,9.5999999999999996],"tickmode":"array","ticktext":["Admiralty Inlet","Bourne","Cobscook Bay","Kootznahoo Inlet","Muskeget","Portsmouth Memorial Bridge","RITE","Turnagain Arm","Western Passage",""],"tickvals":[1,2,3,4,5,6,7,8,9,10],"categoryorder":"array","categoryarray":["Admiralty Inlet","Bourne","Cobscook Bay","Kootznahoo Inlet","Muskeget","Portsmouth Memorial Bridge","RITE","Turnagain Arm","Western Passage"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"domain":[0.47693770803613883,0.89489776509747976],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[0.40000000000000002,11.6],"tickmode":"array","ticktext":["CalWave","Camp Rilea","Duck","Jeanette's Pier","OPT Reedsport","PacWave-N","PacWave-S","SeaRay","WaveConnect","WETS","Yakutat",""],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12],"categoryorder":"array","categoryarray":["CalWave","Camp Rilea","Duck","Jeanette's Pier","OPT Reedsport","PacWave-N","PacWave-S","SeaRay","WaveConnect","WETS","Yakutat"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"domain":[-0.046124583927722285,0.46693770803613882],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"permit_type","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"y":0.80000000000000004,"x":1.1000000000000001},"hovermode":"closest","width":1000,"height":700,"barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"773e4c4afe35":{"text":{},"x":{},"y":{},"xend":{},"yend":{},"type":"scatter"},"773e23fc069c":{"text":{},"x":{},"y":{},"colour":{}}},"cur_data":"773e4c4afe35","visdat":{"773e4c4afe35":["function (y) ","x"],"773e23fc069c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<script>
HTMLWidgets.addPostRenderHandler(function() {

  d_projects = [
  {
    "technology_type": "Riverine Energy",
    "data": [
      {
        "permit_type": "Notice of Intent/Preliminary Permit Application",
        "data": [
          {
            "project_name": "Igiugig",
            "project_number": 18,
            "license_date": "2009-06-08",
            "link": "https://www.orpc.co/our-solutions/scalable-grid-integrated-systems/rivgen-power-system"
          },
          {
            "project_name": "Mississippi River",
            "project_number": 20,
            "license_date": "2009-04-01",
            "link": "https://tethys.pnnl.gov/project-sites/mississippi-river-projects"
          }
        ]
      },
      {
        "permit_type": "Draft Pilot License App",
        "data": [
          {
            "project_name": "Igiugig",
            "project_number": 18,
            "license_date": "2015-04-01",
            "link": "https://drive.google.com/file/d/1A6iCiZa-PYlu9jn9NCEfFDGPNEDzgIL9/view?usp=sharing"
          }
        ]
      },
      {
        "permit_type": "Final Pilot License App",
        "data": [
          {
            "project_name": "Igiugig",
            "project_number": 18,
            "license_date": "2018-11-15",
            "link": "https://drive.google.com/file/d/1at3pn1cf_nMNmj4qksFWIK3FRd1NsPQ_/view?usp=sharing"
          }
        ]
      },
      {
        "permit_type": "Draft License App",
        "data": [
          {
            "project_name": "Igiugig",
            "project_number": 18,
            "license_date": "2015-05-01"
          }
        ]
      },
      {
        "permit_type": "Final License App",
        "data": [
          {
            "project_name": "Igiugig",
            "project_number": 18,
            "license_date": "2018-11-15"
          }
        ]
      },
      {
        "permit_type": "Permit Issued",
        "data": [
          {
            "project_name": "Igiugig",
            "project_number": 18,
            "license_date": "2019-05-23",
            "link": "https://drive.google.com/file/d/1RFnkTk6Yf68eVu9i0DZ4gdrxn8uef4dO/view?usp=sharing"
          }
        ]
      }
    ]
  },
  {
    "technology_type": "Tidal Energy",
    "data": [
      {
        "permit_type": "Notice of Intent/Preliminary Permit Application",
        "data": [
          {
            "project_name": "Admiralty Inlet",
            "project_number": 2,
            "license_date": "2007-03-09",
            "link": "https://tethys.pnnl.gov/project-sites/admiralty-inlet-pilot-tidal-project"
          },
          {
            "project_name": "Bourne",
            "project_number": 17,
            "license_date": "2016-04-20"
          },
          {
            "project_name": "Cobscook Bay",
            "project_number": 3,
            "license_date": "2007-07-23",
            "link": "https://tethys.pnnl.gov/project-sites/cobscook-bay-tidal-energy-project"
          },
          {
            "project_name": "Kootznahoo Inlet",
            "project_number": 23,
            "license_date": "2021-03-12",
            "link": "https://drive.google.com/file/d/1fTT4eUuRCrmhDSDFXkK3fH18LwK1yyh4/view?usp=sharing"
          },
          {
            "project_name": "Muskeget",
            "project_number": 5,
            "license_date": "2008-03-01",
            "link": "https://tethys.pnnl.gov/publications/muskeget-channel-tidal-energy-project-unique-case-study-licensing-permitting-tidal"
          },
          {
            "project_name": "RITE",
            "project_number": 1,
            "license_date": "2002-09-09",
            "link": "https://tethys.pnnl.gov/project-sites/roosevelt-island-tidal-energy-rite-project-pilot"
          },
          {
            "project_name": "Turnagain Arm",
            "project_number": 24,
            "license_date": "2021-04-28"
          },
          {
            "project_name": "Western Passage",
            "project_number": 21,
            "license_date": "2015-12-04",
            "link": "https://drive.google.com/file/d/1quk5I81CySWfdyw7dHkHi4UlMRwxTOIW/view?usp=sharing"
          }
        ]
      },
      {
        "permit_type": "Draft Pilot License App",
        "data": [
          {
            "project_name": "Admiralty Inlet",
            "project_number": 2,
            "license_date": "2009-12-28",
            "link": "https://drive.google.com/file/d/10Ak6VlBA9oYbOswaH-O3eOFOLrbY2xJF/view?usp=sharing"
          },
          {
            "project_name": "Bourne",
            "project_number": 17,
            "license_date": "2018-11-05",
            "link": "https://drive.google.com/file/d/19bnkGeEJgO26nv6TWMtjeSRmRlt1SefY/view?usp=sharing"
          },
          {
            "project_name": "Cobscook Bay",
            "project_number": 3,
            "license_date": "2009-07-23",
            "link": "https://drive.google.com/file/d/1aJgY1ZhDEWFxBcYtDzhdiGevZUwawWs0/view?usp=sharing"
          },
          {
            "project_name": "Muskeget",
            "project_number": 5,
            "license_date": "2011-01-31",
            "link": "https://drive.google.com/file/d/18ARr3biaEl_Kpm4OuSnUwhTnnmmYY2-N/view?usp=sharing"
          },
          {
            "project_name": "RITE",
            "project_number": 1,
            "license_date": "2008-11-25",
            "link": "https://drive.google.com/file/d/1GeTfaCBDBHdei15ZrOCq61YWv4Wk9mca/view"
          }
        ]
      },
      {
        "permit_type": "Final Pilot License App",
        "data": [
          {
            "project_name": "Admiralty Inlet",
            "project_number": 2,
            "license_date": "2012-02-29",
            "link": "https://drive.google.com/file/d/1LqrOcOCylyBoyAwSaRjFadW-h40uBfYa/view?usp=sharing"
          },
          {
            "project_name": "Cobscook Bay",
            "project_number": 3,
            "license_date": "2011-09-01",
            "link": "https://drive.google.com/file/d/1w3nUFQVaf432a4WeOknkLSj4YOgN53PW/view?usp=sharing"
          },
          {
            "project_name": "RITE",
            "project_number": 1,
            "license_date": "2010-12-29",
            "link": "https://drive.google.com/file/d/1vzVSeZ4YV7l7tNswzBinqoj9cLYHnHwh/view?usp=sharing"
          }
        ]
      },
      {
        "permit_type": "Final License App",
        "data": [
          {
            "project_name": "Admiralty Inlet",
            "project_number": 2,
            "license_date": "2012-03-01"
          }
        ]
      },
      {
        "permit_type": "Permit Issued",
        "data": [
          {
            "project_name": "Admiralty Inlet",
            "project_number": 2,
            "license_date": "2014-03-20",
            "link": "https://drive.google.com/file/d/1HDs3rW09XWr8n_iIQNENtt5qHPo8D5Gm/view?usp=sharing"
          },
          {
            "project_name": "Cobscook Bay",
            "project_number": 3,
            "license_date": "2012-02-27",
            "link": "https://drive.google.com/file/d/1yFGkh8z-y6EfmLSJuEvf23OsXOrB6dGa/view?usp=sharing"
          }
        ]
      }
    ]
  },
  {
    "technology_type": "Wave Energy",
    "data": [
      {
        "permit_type": "Notice of Intent/Preliminary Permit Application",
        "data": [
          {
            "project_name": "OPT Reedsport",
            "project_number": 19,
            "license_date": "2006-07-14",
            "link": "https://tethys.pnnl.gov/publications/reedsport-opt-environmental-assessment"
          },
          {
            "project_name": "PacWave-N",
            "project_number": 10,
            "license_date": "2012-07-01",
            "link": "https://tethys.pnnl.gov/project-sites/pacwave-north-test-site"
          },
          {
            "project_name": "PacWave-S",
            "project_number": 12,
            "license_date": "2014-04-15",
            "link": "https://tethys.pnnl.gov/project-sites/pacwave-south-test-site"
          },
          {
            "project_name": "WaveConnect",
            "project_number": 4,
            "license_date": "2008-03-13",
            "link": "https://www.pge.com/about/environment/pge/cleanenergy/waveconnect/relateddocuments.shtml"
          },
          {
            "project_name": "Yakutat",
            "project_number": 11,
            "license_date": "2012-05-25",
            "link": "https://drive.google.com/file/d/1i__sZ6cbB6zZRKlh96hNRWqnO80tFb9_/view?usp=sharing"
          }
        ]
      },
      {
        "permit_type": "Draft Pilot License App",
        "data": [
          {
            "project_name": "WaveConnect",
            "project_number": 4,
            "license_date": "2010-02-26",
            "link": "https://drive.google.com/file/d/1qpHn729qpCc0GRdRDypzBLrw7fIXZlZ1/view?usp=sharing"
          }
        ]
      },
      {
        "permit_type": "Draft License App",
        "data": [
          {
            "project_name": "OPT Reedsport",
            "project_number": 19,
            "license_date": "2010-02-01",
            "link": "https://drive.google.com/file/d/1U1bcs0MnpfNiMGSgpcTO2sHd6bVc8KLB/view?usp=sharing"
          },
          {
            "project_name": "PacWave-S",
            "project_number": 12,
            "license_date": "2018-04-20",
            "link": "https://drive.google.com/file/d/1lGh81tnKyoaG9DjE9wepV5HeLWOsXW16/view?usp=sharing"
          },
          {
            "project_name": "WaveConnect",
            "project_number": 4,
            "license_date": "2010-03-01"
          }
        ]
      },
      {
        "permit_type": "Final License App",
        "data": [
          {
            "project_name": "OPT Reedsport",
            "project_number": 19,
            "license_date": "2010-02-10",
            "link": "https://drive.google.com/file/d/1L9oFPgnUe3bzF-j6y1zgYqd9QXx66fRS/view?usp=sharing"
          },
          {
            "project_name": "PacWave-S",
            "project_number": 12,
            "license_date": "2019-05-31",
            "link": "https://drive.google.com/file/d/1cS_n-uodSZauXnkz4F9YecYBTCqtEB8h/view?usp=sharing"
          }
        ]
      },
      {
        "permit_type": "Environmental Assessment",
        "data": [
          {
            "project_name": "PacWave-N",
            "project_number": 10,
            "license_date": "2012-08-01",
            "link": "https://drive.google.com/file/d/1rcZjwTec_hTLCAsjCMACib8gMcE6bq9w/view?usp=sharing"
          },
          {
            "project_name": "SeaRay",
            "project_number": 6,
            "license_date": "2010-03-23",
            "link": "https://drive.google.com/file/d/1fGAfF6xqqjj2xAin4l8_tAVNTmnG2p58/view?usp=sharing"
          },
          {
            "project_name": "WETS",
            "project_number": 7,
            "license_date": "2003-04-10",
            "link": "https://drive.google.com/file/d/19xCyjgBCAXYGVCitDi6zEeMjtN_bnDa8/view?usp=sharing"
          },
          {
            "project_name": "WETS",
            "project_number": 7,
            "license_date": "2014-02-25",
            "link": "https://drive.google.com/file/d/1sIPvQCinvsEEUTLZlDfqDgMmkfaL0Ko7/view?usp=sharing"
          }
        ]
      },
      {
        "permit_type": "Settlement Agreement",
        "data": [
          {
            "project_name": "OPT Reedsport",
            "project_number": 19,
            "license_date": "2010-07-30",
            "link": "https://drive.google.com/file/d/1QRyyZ6bPxmvrL-AiLtwmXUv8uMGbYrsA/view?usp=sharing"
          }
        ]
      },
      {
        "permit_type": "Permit Issued",
        "data": [
          {
            "project_name": "OPT Reedsport",
            "project_number": 19,
            "license_date": "2012-08-13",
            "link": "https://drive.google.com/file/d/1L9oFPgnUe3bzF-j6y1zgYqd9QXx66fRS/view?usp=sharingg"
          },
          {
            "project_name": "PacWave-S",
            "project_number": 12,
            "license_date": "2021-03-01",
            "link": "https://drive.google.com/drive/folders/1oAKHcLhjdekHDFFi9BXJ_muR1DuJOCCY?usp=sharing"
          }
        ]
      }
    ]
  }
];
  
  // technology_type facets
  yidx = {'y': 0, 'y2': 1, 'y3': 2};
  
  var myPlot = document.getElementById('PlotlyGraph');
  
  myPlot.on('plotly_click', function(data){
  
    // technology_type
    var yaxis = data.points[0].fullData.yaxis;
    // permit_type
    var legendgroup = data.points[0].data.legendgroup;
    // project
    var pointIndex = data.points[0].pointIndex;
  
    console.log(`yaxis: ${yaxis}`);
    console.log(`legendgroup: ${legendgroup}`);
    console.log(`pointIndex: ${pointIndex}`);
  
    if(typeof legendgroup !== 'undefined' | typeof pointIndex !== 'undefined'){
    
      d_tech     = d_projects[yidx[yaxis]].data; 
      idx_permit = d_tech.findIndex(x => x.permit_type === legendgroup);
      d_permits  = d_tech[idx_permit].data;
      d_project = d_permits[pointIndex];
      link = d_permits[pointIndex].link;
      
      console.log(`project_name: ${d_project.project_name}`);
      console.log(`link: ${link}`);
      
      window.open(link,'_blank');
    }
  });
});
</script>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->



</body>
</html>
